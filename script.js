// –û–±—ä–µ–∫—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
const taskExplanations = {
    1: {
        title: "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã",
        content: `
            <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã</h2>
            <p>–≠—Ç–∞ –∑–∞–¥–∞—á–∞ –∑–Ω–∞–∫–æ–º–∏—Ç –≤–∞—Å —Å –æ—Å–Ω–æ–≤–∞–º–∏ HTML - —è–∑—ã–∫–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.</p>
            
            <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ HTML?</h3>
            <p>HTML (HyperText Markup Language) - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —è–∑—ã–∫ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.</p>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–¥–∞:</h3>
            <ul>
                <li><strong>&lt;!DOCTYPE html&gt;</strong> - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞</li>
                <li><strong>&lt;html&gt;</strong> - –∫–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
                <li><strong>&lt;head&gt;</strong> - —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</li>
                <li><strong>&lt;title&gt;</strong> - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–æ –≤–∫–ª–∞–¥–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞)</li>
                <li><strong>&lt;body&gt;</strong> - —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∏–¥–∏–º–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
                <li><strong>&lt;h1&gt;</strong> - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è</li>
                <li><strong>&lt;p&gt;</strong> - –∞–±–∑–∞—Ü —Ç–µ–∫—Å—Ç–∞</li>
                <li><strong>&lt;img&gt;</strong> - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ src (–∏—Å—Ç–æ—á–Ω–∏–∫) –∏ alt (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç)</li>
            </ul>
            
            <h3>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥:</h3>
            <ol>
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, Notepad++, VS Code)</li>
                <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .html (–Ω–∞–ø—Ä–∏–º–µ—Ä, index.html)</li>
                <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º</li>
            </ol>
            
            <h3>–°–æ–≤–µ—Ç—ã:</h3>
            <ul>
                <li>–í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ–≥–∏</li>
                <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —Ç–µ–≥–æ–≤</li>
                <li>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç alt –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</li>
            </ul>
        `
    },
    2: {
        title: "–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ CSS",
        content: `
            <h2>–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ CSS</h2>
            <p>CSS (Cascading Style Sheets) –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–Ω–µ—à–Ω–∏–º –≤–∏–¥–æ–º HTML-—ç–ª–µ–º–µ–Ω—Ç–æ–≤.</p>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ CSS:</h3>
            <ul>
                <li><strong>–°–µ–ª–µ–∫—Ç–æ—Ä—ã</strong> - –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫ –∫–∞–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ç–∏–ª–∏</li>
                <li><strong>–°–≤–æ–π—Å—Ç–≤–∞</strong> - –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –∏–∑–º–µ–Ω—è—é—Ç—Å—è</li>
                <li><strong>–ó–Ω–∞—á–µ–Ω–∏—è</strong> - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å–≤–æ–π—Å—Ç–≤</li>
            </ul>
            
            <h3>–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:</h3>
            <pre><code>/* –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
h1 {
    color: #2c3e50;           /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
    font-family: 'Arial';     /* –®—Ä–∏—Ñ—Ç */
    text-align: center;       /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
    margin-bottom: 20px;      /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
}</code></pre>
            
            <h3>–ü–æ–ª–µ–∑–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ CSS:</h3>
            <ul>
                <li><code>color</code> - —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</li>
                <li><code>background-color</code> - —Ü–≤–µ—Ç —Ñ–æ–Ω–∞</li>
                <li><code>font-size</code> - —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞</li>
                <li><code>padding</code> - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã</li>
                <li><code>margin</code> - –≤–Ω–µ—à–Ω–∏–µ –æ—Ç—Å—Ç—É–ø—ã</li>
                <li><code>border-radius</code> - —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤</li>
            </ul>
            
            <h3>–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å CSS –∫ HTML:</h3>
            <pre><code>&lt;link rel="stylesheet" href="styles.css"&gt;</code></pre>
        `
    },
    3: {
        title: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ JavaScript",
        content: `
            <h2>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ JavaScript</h2>
            <p>JavaScript –¥–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.</p>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</h3>
            <ul>
                <li><strong>DOM (Document Object Model)</strong> - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ HTML-–¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
                <li><strong>–°–æ–±—ã—Ç–∏—è</strong> - –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–ª–∏–∫, –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –∏ —Ç.–¥.)</li>
                <li><strong>–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</strong> - —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π</li>
            </ul>
            
            <h3>–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:</h3>
            <pre><code>// –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏ –ø–æ ID
const button = document.getElementById('myButton');

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–∫–∞
button.addEventListener('click', function() {
    // this —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–º—É –∫–Ω–æ–ø–∫—É
    this.style.backgroundColor = '#e74c3c'; // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç —Ñ–æ–Ω–∞
    this.textContent = '–ù–∞–∂–∞—Ç–æ!'; // –ú–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ
    alert('–ö–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –Ω–∞–∂–∞—Ç–∞!');
    
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –≤–∏–¥ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        this.style.backgroundColor = '#3498db';
        this.textContent = '–ù–∞–∂–º–∏ –º–µ–Ω—è';
    }, 2000);
});</code></pre>
            
            <h3>–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è:</h3>
            <ul>
                <li><code>click</code> - –∫–ª–∏–∫ –º—ã—à—å—é</li>
                <li><code>mouseover</code> - –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞</li>
                <li><code>mouseout</code> - —É—Ö–æ–¥ –∫—É—Ä—Å–æ—Ä–∞</li>
                <li><code>keydown</code> - –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏</li>
                <li><code>load</code> - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
            </ul>
        `
    },
    4: {
        title: "–ü—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä",
        content: `
            <h2>–ü—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ JavaScript</h2>
            <p>–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ —É—Å–ª–æ–≤–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –≤ JavaScript.</p>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</h3>
            <ul>
                <li><strong>–§—É–Ω–∫—Ü–∏–∏</strong> - –±–ª–æ–∫–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –∑–∞–¥–∞—á—É</li>
                <li><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</strong> - –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é</li>
                <li><strong>–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</strong> - —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏</li>
                <li><strong>–£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã</strong> - –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–π –∫–æ–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π</li>
            </ul>
            
            <h3>–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:</h3>
            <pre><code>// –§—É–Ω–∫—Ü–∏—è —Å–ª–æ–∂–µ–Ω–∏—è
function add(a, b) {
    return a + b; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—É–º–º—É
}

// –§—É–Ω–∫—Ü–∏—è –¥–µ–ª–µ–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –Ω–æ–ª—å
function divide(a, b) {
    if (b === 0) {
        return '–û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å!';
    }
    return a / b;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
function calculate(operation, a, b) {
    switch(operation) {
        case '+':
            return add(a, b);
        case '-':
            return subtract(a, b);
        case '*':
            return multiply(a, b);
        case '/':
            return divide(a, b);
        default:
            return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è';
    }
}</code></pre>
            
            <h3>–û–ø–µ—Ä–∞—Ç–æ—Ä switch:</h3>
            <p>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.</p>
            
            <h3>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:</h3>
            <p>–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å.</p>
        `
    },
    5: {
        title: "–ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è",
        content: `
            <h2>–ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ CSS</h2>
            <p>CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ –¥–≤–∏–∂–µ–Ω–∏—è –±–µ–∑ JavaScript.</p>
            
            <h3>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</h3>
            <ul>
                <li><strong>@keyframes</strong> - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —ç—Ç–∞–ø—ã –∞–Ω–∏–º–∞—Ü–∏–∏</li>
                <li><strong>animation</strong> - —Å–≤–æ–π—Å—Ç–≤–æ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏</li>
                <li><strong>transform</strong> - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ, –≤—Ä–∞—â–µ–Ω–∏–µ, –º–∞—Å—à—Ç–∞–±)</li>
                <li><strong>transition</strong> - –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏</li>
            </ul>
            
            <h3>–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:</h3>
            <pre><code>/* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
@keyframes moveAndChange {
    0% {
        left: 0;
        top: 0;
        transform: rotate(0deg);
        background: linear-gradient(45deg, #3498db, #9b59b6);
    }
    25% {
        left: 200px;
        top: 0;
        transform: rotate(90deg);
        background: linear-gradient(45deg, #2ecc71, #3498db);
    }
    /* ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ */
}

/* –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç—É */
.animated-box {
    animation: moveAndChange 4s ease-in-out infinite;
}</code></pre>
            
            <h3>–°–≤–æ–π—Å—Ç–≤–∞ –∞–Ω–∏–º–∞—Ü–∏–∏:</h3>
            <ul>
                <li><code>animation-name</code> - –∏–º—è –∞–Ω–∏–º–∞—Ü–∏–∏</li>
                <li><code>animation-duration</code> - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
                <li><code>animation-timing-function</code> - —Ñ—É–Ω–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ (ease, linear, etc.)</li>
                <li><code>animation-iteration-count</code> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π (infinite –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏)</li>
                <li><code>animation-direction</code> - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏</li>
            </ul>
        `
    },
    6: {
        title: "–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã",
        content: `
            <h2>–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –Ω–∞ JavaScript</h2>
            <p>–í–∞–ª–∏–¥–∞—Ü–∏—è - –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å.</p>
            
            <h3>–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è:</h3>
            <ul>
                <li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫</li>
                <li>–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞</li>
                <li>–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
            </ul>
            
            <h3>–†–∞–∑–±–æ—Ä –∫–æ–¥–∞:</h3>
            <pre><code>// –§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
function validateEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã
function validateForm(event) {
    event.preventDefault(); // –û—Ç–º–µ–Ω—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã
    
    // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    let isValid = true;
    let errors = [];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º email
    if (!validateEmail(email)) {
        isValid = false;
        errors.push('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å');
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä–æ–ª—å
    if (!validatePassword(password)) {
        isValid = false;
        errors.push('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if (!isValid) {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏
        showErrors(errors);
    } else {
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É
        submitForm();
    }
}</code></pre>
            
            <h3>–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:</h3>
            <p>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ç–µ–∫—Å—Ç–∞. –í –ø—Ä–∏–º–µ—Ä–µ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–æ—Ä–º–∞—Ç email.</p>
            
            <h3>event.preventDefault():</h3>
            <p>–û—Ç–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ - –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã).</p>
        `
    }
};

// –£–º–Ω—ã–π —á–∞—Ç-–±–æ—Ç —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
class SmartChatBot {
    constructor() {
        this.isOpen = false;
        this.messages = [];
        this.knowledgeBase = this.createKnowledgeBase();
        this.init();
    }

    createKnowledgeBase() {
        return {
            'html': {
                patterns: ['html', '—Ç–µ–≥', '—Ä–∞–∑–º–µ—Ç–∫–∞', '–≤–µ—Ä—Å—Ç–∫–∞', 'hypertext'],
                responses: [
                    'HTML - —è–∑—ã–∫ —Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–≥–∏: <div>, <p>, <h1>-<h6>, <a>, <img>.',
                    '–î–ª—è –∏–∑—É—á–µ–Ω–∏—è HTML –Ω–∞—á–Ω–∏ —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∑–∞—Ç–µ–º –∏–∑—É—á–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏.',
                    '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ HTML —Ç–µ–≥–∏: header, nav, section, article, footer - —ç—Ç–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏ –¥–ª—è –ª—É—á—à–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.'
                ],
                learning: 'üéØ –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è HTML:\n1. –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞\n2. –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ç–µ–≥–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏\n3. –°—Å—ã–ª–∫–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n4. –§–æ—Ä–º—ã –∏ –∏–Ω–ø—É—Ç—ã\n5. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å—Ç–∫–∞'
            },
            'css': {
                patterns: ['css', '—Å—Ç–∏–ª–∏', '–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ', '–¥–∏–∑–∞–π–Ω', 'flex', 'grid'],
                responses: [
                    'CSS - –∫–∞—Å–∫–∞–¥–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç–∏–ª–µ–π –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è HTML.',
                    '–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ CSS: —Å–µ–ª–µ–∫—Ç–æ—Ä—ã, —Å–≤–æ–π—Å—Ç–≤–∞, –∫–∞—Å–∫–∞–¥–Ω–æ—Å—Ç—å, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.',
                    '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS: Flexbox –¥–ª—è –æ–¥–Ω–æ–º–µ—Ä–Ω—ã—Ö –∏ Grid –¥–ª—è –¥–≤—É–º–µ—Ä–Ω—ã—Ö —Ä–∞—Å–∫–ª–∞–¥–æ–∫.'
                ],
                learning: 'üéØ –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è CSS:\n1. –°–µ–ª–µ–∫—Ç–æ—Ä—ã –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞\n2. –ë–ª–æ—á–Ω–∞—è –º–æ–¥–µ–ª—å –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ\n3. Flexbox —Ä–∞—Å–∫–ª–∞–¥–∫–∞\n4. CSS Grid\n5. –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏'
            },
            'javascript': {
                patterns: ['javascript', 'js', '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ', '—Å–∫—Ä–∏–ø—Ç', '—Ñ—É–Ω–∫—Ü–∏—è', '–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è'],
                responses: [
                    'JavaScript - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.',
                    '–û—Å–Ω–æ–≤—ã JS: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–∏, —É—Å–ª–æ–≤–∏—è, —Ü–∏–∫–ª—ã.',
                    '–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π JS: DOM manipulation, —Å–æ–±—ã—Ç–∏—è, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, API.'
                ],
                learning: 'üéØ –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è JavaScript:\n1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö\n2. –§—É–Ω–∫—Ü–∏–∏ –∏ —É—Å–ª–æ–≤–∏—è\n3. –†–∞–±–æ—Ç–∞ —Å DOM\n4. –°–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏\n5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥'
            },
            'python': {
                patterns: ['python', '–ø–∏—Ç–æ–Ω', 'data science', '–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ'],
                responses: [
                    'Python - –º–æ—â–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, data science –∏ AI.',
                    'Python –∏–∑–≤–µ—Å—Ç–µ–Ω –ø—Ä–æ—Å—Ç—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∏ –±–æ–ª—å—à–∏–º —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º.',
                    '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏: Django –¥–ª—è –≤–µ–±–∞, Pandas –¥–ª—è –¥–∞–Ω–Ω—ã—Ö, TensorFlow –¥–ª—è AI.'
                ],
                learning: 'üéØ –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è Python:\n1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã\n2. –§—É–Ω–∫—Ü–∏–∏ –∏ –º–æ–¥—É–ª–∏\n3. –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏\n4. –û–û–ü –≤ Python\n5. –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (Django/Flask)'
            },
            '–æ–±—É—á–µ–Ω–∏–µ': {
                patterns: ['—É—á–∏—Ç—å—Å—è', '–æ–±—É—á–µ–Ω–∏–µ', '–Ω–∞—É—á–∏—Ç—å—Å—è', '–∏–∑—É—á–∏—Ç—å', '–∫—É—Ä—Å', '—É—Ä–æ–∫'],
                responses: [
                    '–û—Ç–ª–∏—á–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ —É—á–∏—Ç—å—Å—è! –î–∞–≤–∞–π –ø–æ–¥–±–µ—Ä–µ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.',
                    '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∞! –ù–∞—á–Ω–∏ —Å –æ—Å–Ω–æ–≤ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Å—è.',
                    '–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∏–Ω–∞—Ç—å —Å HTML/CSS, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ JavaScript.'
                ],
                learning: 'üöÄ –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø—É—Ç—å –æ–±—É—á–µ–Ω–∏—è:\n1. HTML/CSS (2-3 –Ω–µ–¥–µ–ª–∏)\n2. JavaScript (1-2 –º–µ—Å—è—Ü–∞)\n3. –§—Ä–µ–π–º–≤–æ—Ä–∫–∏ (React/Vue)\n4. Backend (Node.js/Python)\n5. –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö'
            },
            '–æ—à–∏–±–∫–∞': {
                patterns: ['–æ—à–∏–±–∫–∞', '–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', '–±–∞–≥', '–ø—Ä–æ–±–ª–µ–º–∞', 'help', '–ø–æ–º–æ–≥–∏'],
                responses: [
                    '–ü–æ–ø—Ä–æ–±—É–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å console.log() –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞.',
                    '–ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Å–∫–æ–±–æ–∫/–∫–∞–≤—ã—á–µ–∫.',
                    '–ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12).'
                ],
                learning: 'üîß –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ:\n1. –ß–∏—Ç–∞–π —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö\n2. –ò—Å–ø–æ–ª—å–∑—É–π console.log()\n3. –ü—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö\n4. –¢–µ—Å—Ç–∏—Ä—É–π –∫–æ–¥ –ø–æ —á–∞—Å—Ç—è–º\n5. –ò—â–∏ —Ä–µ—à–µ–Ω–∏–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏'
            }
        };
    }

    init() {
        this.createBotHTML();
        this.setupEventListeners();
        this.addMessage('bot', '–ü—Ä–∏–≤–µ—Ç! –Ø —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é. –°–ø—Ä–æ—Å–∏ –º–µ–Ω—è –æ HTML, CSS, JavaScript, Python –∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è! ü§ñ');
    }

    createBotHTML() {
        const botHTML = `
            <div class="chat-bot">
                <button class="chat-bot-toggle">ü§ñ</button>
                <div class="chat-bot-window">
                    <div class="chat-bot-header">
                        <h3>–£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h3>
                        <div class="chat-bot-actions">
                            <button class="clear-chat" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é">üóëÔ∏è</button>
                            <button class="chat-bot-close">√ó</button>
                        </div>
                    </div>
                    <div class="chat-bot-messages"></div>
                    <div class="chat-bot-input">
                        <input type="text" placeholder="–°–ø—Ä–æ—Å–∏ –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏...">
                        <button class="send-btn">‚û§</button>
                    </div>
                    <div class="quick-questions">
                        <button class="quick-question" data-question="–ö–∞–∫ –Ω–∞—á–∞—Ç—å —É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ?">üéØ –ù–∞—á–∞—Ç—å —É—á–∏—Ç—å</button>
                        <button class="quick-question" data-question="–ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è HTML">üìö HTML</button>
                        <button class="quick-question" data-question="–ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è JavaScript">‚ö° JavaScript</button>
                    </div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('beforeend', botHTML);
    }

    setupEventListeners() {
        const toggleBtn = document.querySelector('.chat-bot-toggle');
        const closeBtn = document.querySelector('.chat-bot-close');
        const clearBtn = document.querySelector('.clear-chat');
        const input = document.querySelector('.chat-bot-input input');
        const sendBtn = document.querySelector('.send-btn');
        const quickQuestions = document.querySelectorAll('.quick-question');

        toggleBtn.addEventListener('click', () => this.toggle());
        closeBtn.addEventListener('click', () => this.close());
        clearBtn.addEventListener('click', () => this.clearChat());
        
        sendBtn.addEventListener('click', () => this.sendMessage());
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') this.sendMessage();
        });

        quickQuestions.forEach(btn => {
            btn.addEventListener('click', () => {
                const question = btn.getAttribute('data-question');
                input.value = question;
                this.sendMessage();
            });
        });
    }

    toggle() {
        const window = document.querySelector('.chat-bot-window');
        this.isOpen = !this.isOpen;
        window.classList.toggle('active', this.isOpen);
    }

    close() {
        const window = document.querySelector('.chat-bot-window');
        this.isOpen = false;
        window.classList.remove('active');
    }

    clearChat() {
        this.messages = [];
        this.updateMessagesDisplay();
        this.addMessage('bot', '–ò—Å—Ç–æ—Ä–∏—è –æ—á–∏—â–µ–Ω–∞! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å? ü§ñ');
    }

    addMessage(sender, text) {
        this.messages.push({ sender, text, timestamp: new Date() });
        this.updateMessagesDisplay();
    }

    updateMessagesDisplay() {
        const messagesContainer = document.querySelector('.chat-bot-messages');
        messagesContainer.innerHTML = '';

        this.messages.forEach(msg => {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${msg.sender}`;
            
            const time = msg.timestamp.toLocaleTimeString('ru-RU', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            messageDiv.innerHTML = `
                <div class="message-content">${this.formatMessage(msg.text)}</div>
                <div class="message-time">${time}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
        });

        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    formatMessage(text) {
        return text.replace(/\n/g, '<br>');
    }

    sendMessage() {
        const input = document.querySelector('.chat-bot-input input');
        const message = input.value.trim();

        if (message) {
            this.addMessage('user', message);
            input.value = '';

            setTimeout(() => {
                const response = this.generateSmartResponse(message);
                this.addMessage('bot', response);
            }, 1000 + Math.random() * 1000);
        }
    }

    generateSmartResponse(userMessage) {
        const lowerMessage = userMessage.toLowerCase();
        
        for (const [topic, data] of Object.entries(this.knowledgeBase)) {
            for (const pattern of data.patterns) {
                if (lowerMessage.includes(pattern)) {
                    if (lowerMessage.includes('–ø–ª–∞–Ω') || lowerMessage.includes('–æ–±—É—á–µ–Ω') || lowerMessage.includes('–∏–∑—É—á')) {
                        return data.learning;
                    }
                    return data.responses[Math.floor(Math.random() * data.responses.length)];
                }
            }
        }

        return this.generateAIPatternResponse(lowerMessage);
    }

    generateAIPatternResponse(message) {
        const patterns = {
            '–∫–∞–∫.*–Ω–∞—É—á–∏—Ç—å—Å—è': '–ù–∞—á–Ω–∏ —Å –æ—Å–Ω–æ–≤! HTML ‚Üí CSS ‚Üí JavaScript. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∏ –¥–µ–ª–∞–π –Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã. üöÄ',
            '—Å–∫–æ–ª—å–∫–æ.*–≤—Ä–µ–º–µ–Ω–∏': '–û—Å–Ω–æ–≤—ã –º–æ–∂–Ω–æ –æ—Å–≤–æ–∏—Ç—å –∑–∞ 2-3 –º–µ—Å—è—Ü–∞. –ß—Ç–æ–±—ã —Å—Ç–∞—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º - 1-2 –≥–æ–¥–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏. ‚è±Ô∏è',
            '–ª—É—á—à–∏–π.*—è–∑—ã–∫': '–ö–∞–∂–¥—ã–π —è–∑—ã–∫ —Ö–æ—Ä–æ—à –¥–ª—è —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á. –î–ª—è –≤–µ–±–∞ - JavaScript, –¥–ª—è –¥–∞–Ω–Ω—ã—Ö - Python, –¥–ª—è –º–æ–±–∏–ª–∫–∏ - Kotlin/Swift. üí´',
            '—Å —á–µ–≥–æ.*–Ω–∞—á–∞—Ç—å': '–ù–∞—á–Ω–∏ —Å HTML/CSS, –∑–∞—Ç–µ–º JavaScript. –î–µ–ª–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ –Ω–µ –±–æ–π—Å—è –æ—à–∏–±–∞—Ç—å—Å—è! üåü',
            '–∫–∞–∫.*–±—ã—Å—Ç—Ä–æ': '–£—á–∏—Å—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ, –ø—Ä–∞–∫—Ç–∏–∫—É–π—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, —É—á–∞—Å—Ç–≤—É–π –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö. –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–¥–µ—Ç —Å –æ–ø—ã—Ç–æ–º! ‚ö°',
            '–ø–æ—á–µ–º—É.*–Ω–µ.*–ø–æ–ª—É—á–∞–µ—Ç—Å—è': '–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –Ω–∞–≤—ã–∫! –í—Å–µ –Ω–∞—á–∏–Ω–∞—é—Ç —Å –æ—à–∏–±–æ–∫. –ü—Ä–æ–¥–æ–ª–∂–∞–π –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏. üí™'
        };

        for (const [pattern, response] of Object.entries(patterns)) {
            if (new RegExp(pattern).test(message)) {
                return response;
            }
        }

        const defaultResponses = [
            '–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ü–æ–ø—Ä–æ–±—É–π —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ, –∏ —è –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–º–æ—á—å. ü§î',
            '–ü–æ–∫–∞ —è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏. –°–ø—Ä–æ—Å–∏ –æ HTML, CSS, JavaScript –∏–ª–∏ Python! üíª',
            '–•–æ—á–µ—à—å, —Å–æ—Å—Ç–∞–≤–ª—é –¥–ª—è —Ç–µ–±—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è? –ü—Ä–æ—Å—Ç–æ —Å–ø—Ä–æ—Å–∏ "–ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è"! üìö',
            '–†–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å –æ—Å–Ω–æ–≤ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: HTML ‚Üí CSS ‚Üí JavaScript. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç! üöÄ'
        ];

        return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
    }
}

// –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
class ThemeSwitcher {
    constructor() {
        this.currentTheme = localStorage.getItem('theme') || 'light';
        this.init();
    }

    init() {
        this.createSwitcherHTML();
        this.setupEventListeners();
        this.applyTheme(this.currentTheme);
    }

    createSwitcherHTML() {
        const switcherHTML = `
            <div class="theme-switcher">
                <button class="theme-toggle" id="themeToggle">üåô</button>
            </div>
        `;
        document.body.insertAdjacentHTML('afterbegin', switcherHTML);
    }

    setupEventListeners() {
        const toggleBtn = document.getElementById('themeToggle');
        toggleBtn.addEventListener('click', () => this.toggleTheme());
    }

    toggleTheme() {
        this.currentTheme = this.currentTheme === 'light' ? 'dark' : 'light';
        this.applyTheme(this.currentTheme);
        localStorage.setItem('theme', this.currentTheme);
    }

    applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        const toggleBtn = document.getElementById('themeToggle');
        toggleBtn.textContent = theme === 'light' ? 'üåô' : '‚òÄÔ∏è';
        
        toggleBtn.style.transform = 'scale(1.2) rotate(180deg)';
        setTimeout(() => {
            toggleBtn.style.transform = 'scale(1) rotate(0deg)';
        }, 300);
    }
}

// –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Å "–Ω–µ–π—Ä–æ—Å–µ—Ç—å—é"
function initSearch() {
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const searchResults = document.getElementById('searchResults');
    
    if (searchInput && searchBtn) {
        function performSearch() {
            const query = searchInput.value.trim().toLowerCase();
            if (query === '') {
                searchResults.innerHTML = '';
                searchResults.classList.remove('active');
                return;
            }
            
            const smartResults = generateSmartSearchResults(query);
            displaySearchResults(smartResults, query);
        }
        
        function generateSmartSearchResults(query) {
            const knowledgeBase = {
                'python': {
                    title: '–ò–∑—É—á–µ–Ω–∏–µ Python —Å –Ω—É–ª—è',
                    description: '–ü–æ–ª–Ω—ã–π –∫—É—Ä—Å Python –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏',
                    type: '–∫—É—Ä—Å',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '4 –Ω–µ–¥–µ–ª–∏'
                },
                'html': {
                    title: 'HTML –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
                    description: '–û—Å–Ω–æ–≤—ã –≤–µ—Ä—Å—Ç–∫–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã',
                    type: '—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '1 –Ω–µ–¥–µ–ª—è'
                },
                'javascript': {
                    title: 'JavaScript –æ—Å–Ω–æ–≤—ã',
                    description: '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Å JavaScript',
                    type: '–∫—É—Ä—Å',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '3 –Ω–µ–¥–µ–ª–∏'
                },
                'css': {
                    title: 'CSS –∏ –¥–∏–∑–∞–π–Ω',
                    description: '–°–æ–∑–¥–∞–Ω–∏–µ –∫—Ä–∞—Å–∏–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å CSS',
                    type: '—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '2 –Ω–µ–¥–µ–ª–∏'
                },
                '–±—ã—Å—Ç—Ä–æ': {
                    title: '–£—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ',
                    description: '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –∫—É—Ä—Å –ø–æ –æ—Å–Ω–æ–≤–∞–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è',
                    type: '–∏–Ω—Ç–µ–Ω—Å–∏–≤',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '24 —á–∞—Å–∞'
                }
            };

            const results = [];
            
            Object.entries(knowledgeBase).forEach(([keyword, data]) => {
                if (query.includes(keyword)) {
                    results.push({
                        title: data.title,
                        description: data.description,
                        type: data.type,
                        difficulty: data.difficulty,
                        duration: data.duration,
                        relevance: 100
                    });
                }
            });

            if (results.length > 0) {
                return results;
            }

            if (query.includes('–Ω–∞—É—á–∏—Ç—å—Å—è') || query.includes('–æ–±—É—á–µ–Ω–∏–µ') || query.includes('–∏–∑—É—á–∏—Ç—å')) {
                return [{
                    title: 'üöÄ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è',
                    description: '–Ø –ø–æ–¥–æ–±—Ä–∞–ª –¥–ª—è –≤–∞—Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø—É—Ç—å –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞',
                    type: '–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω',
                    difficulty: '–ª—é–±–æ–π',
                    duration: '–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ',
                    relevance: 95
                }];
            }

            if (query.includes('–±—ã—Å—Ç—Ä–æ') || query.includes('24 —á–∞—Å–∞') || query.includes('—É—Å–∫–æ—Ä–µ–Ω')) {
                return [{
                    title: '‚ö° –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π –∫—É—Ä—Å –∑–∞ 24 —á–∞—Å–∞',
                    description: '–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é',
                    type: '–∏–Ω—Ç–µ–Ω—Å–∏–≤',
                    difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                    duration: '24 —á–∞—Å–∞',
                    relevance: 90
                }];
            }

            return [{
                title: 'üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É',
                description: `–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ "${query}" —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞—á–∞—Ç—å —Å –æ—Å–Ω–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ HTML/CSS`,
                type: '—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è',
                difficulty: '–Ω–∞—á–∞–ª—å–Ω—ã–π',
                duration: '2-4 –Ω–µ–¥–µ–ª–∏',
                relevance: 80
            }];
        }

        function displaySearchResults(results, query) {
            searchResults.innerHTML = '';
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="search-result-card">
                        <h3>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h3>
                        <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Å–ø—Ä–æ—Å–∏—Ç–µ —É —É–º–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞</p>
                    </div>
                `;
            } else {
                results.forEach(result => {
                    const resultHTML = `
                        <div class="search-result-card">
                            <div class="search-result-header">
                                <h3>${result.title}</h3>
                                <span class="search-badge ${result.type}">${result.type}</span>
                            </div>
                            <p>${result.description}</p>
                            <div class="search-result-meta">
                                <span class="difficulty ${result.difficulty}">${result.difficulty}</span>
                                <span class="duration">‚è±Ô∏è ${result.duration}</span>
                                <span class="relevance">üéØ ${result.relevance}% —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏</span>
                            </div>
                            <div class="search-result-actions">
                                <button class="btn btn-outline">üëÅÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å</button>
                                <button class="btn btn-primary">üéØ –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
                            </div>
                        </div>
                    `;
                    searchResults.insertAdjacentHTML('beforeend', resultHTML);
                });
            }
            
            searchResults.classList.add('active');
        }
        
        searchBtn.addEventListener('click', performSearch);
        searchInput.addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                performSearch();
            }
        });
    }
}

// –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
class RatingSystem {
    constructor() {
        this.ratings = JSON.parse(localStorage.getItem('taskRatings')) || {};
    }

    init() {
        this.setupRatingListeners();
    }

    setupRatingListeners() {
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('rating-star')) {
                const taskId = e.target.closest('[data-task]').getAttribute('data-task');
                const rating = parseInt(e.target.getAttribute('data-rating'));
                this.setRating(taskId, rating);
            }
        });
    }

    setRating(taskId, rating) {
        if (!this.ratings[taskId]) {
            this.ratings[taskId] = { rating, count: 1 };
        } else {
            this.ratings[taskId].rating = rating;
        }

        localStorage.setItem('taskRatings', JSON.stringify(this.ratings));
        this.updateRatingDisplay(taskId);
        
        achievementsSystem.checkRatingAchievements();
    }

    updateRatingDisplay(taskId) {
        const ratingElement = document.querySelector(`[data-task="${taskId}"] .rating-system`);
        if (ratingElement && this.ratings[taskId]) {
            const stars = ratingElement.querySelectorAll('.rating-star');
            const rating = this.ratings[taskId].rating;

            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
    }

    getAverageRating(taskId) {
        return this.ratings[taskId] ? this.ratings[taskId].rating : 0;
    }
}

// –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
class AchievementsSystem {
    constructor() {
        this.achievements = JSON.parse(localStorage.getItem('achievements')) || {
            firstCode: { name: "–ü–µ—Ä–≤—ã–π –∫–æ–¥", desc: "–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É", earned: false },
            fiveTasks: { name: "–†–µ—à–∞—Ç–µ–ª—å", desc: "–í—ã–ø–æ–ª–Ω–∏—Ç–µ 5 –∑–∞–¥–∞—á", earned: false },
            cssMaster: { name: "–ú–∞—Å—Ç–µ—Ä CSS", desc: "–ü–æ–ª—É—á–∏—Ç–µ 5 –∑–≤–µ–∑–¥ –∑–∞ CSS –∑–∞–¥–∞—á—É", earned: false },
            communityHelper: { name: "–ü–æ–º–æ—â–Ω–∏–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞", desc: "–î–æ–±–∞–≤—å—Ç–µ 3 —Å–≤–æ–∏—Ö –∫–æ–¥–∞", earned: false },
            codeExplorer: { name: "–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å –∫–æ–¥–∞", desc: "–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ 10 –ø—Ä–∏–º–µ—Ä–æ–≤", earned: false }
        };
    }

    init() {
        this.createAchievementsHTML();
        this.setupEventListeners();
        this.updateAchievementsDisplay();
    }

    createAchievementsHTML() {
        const achievementsHTML = `
            <div class="achievements-system">
                <button class="achievements-toggle">
                    üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    <span id="achievementsCount">0</span>
                </button>
                <div class="achievements-panel">
                    <h4>–í–∞—à–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h4>
                    <div id="achievementsList"></div>
                </div>
            </div>
        `;
        document.body.insertAdjacentHTML('afterbegin', achievementsHTML);
    }

    setupEventListeners() {
        const toggleBtn = document.querySelector('.achievements-toggle');
        const panel = document.querySelector('.achievements-panel');

        toggleBtn.addEventListener('click', () => {
            panel.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.achievements-system')) {
                panel.classList.remove('active');
            }
        });
    }

    updateAchievementsDisplay() {
        const list = document.getElementById('achievementsList');
        const count = document.getElementById('achievementsCount');
        
        let earnedCount = 0;
        list.innerHTML = '';

        Object.entries(this.achievements).forEach(([key, achievement]) => {
            const achievementHTML = `
                <div class="achievement-item ${achievement.earned ? '' : 'locked'}">
                    <div class="achievement-icon">${achievement.earned ? 'üèÜ' : 'üîí'}</div>
                    <div class="achievement-info">
                        <div class="achievement-name">${achievement.name}</div>
                        <div class="achievement-desc">${achievement.desc}</div>
                    </div>
                </div>
            `;
            list.insertAdjacentHTML('beforeend', achievementHTML);

            if (achievement.earned) earnedCount++;
        });

        count.textContent = earnedCount;
    }

    unlockAchievement(achievementKey) {
        if (this.achievements[achievementKey] && !this.achievements[achievementKey].earned) {
            this.achievements[achievementKey].earned = true;
            localStorage.setItem('achievements', JSON.stringify(this.achievements));
            this.updateAchievementsDisplay();
            this.showAchievementNotification(this.achievements[achievementKey].name);
        }
    }

    showAchievementNotification(achievementName) {
        const notification = document.createElement('div');
        notification.className = 'achievement-unlocked';
        notification.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--gradient);
            color: white;
            padding: 2rem;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            z-index: 10000;
            text-align: center;
            font-weight: 600;
            font-size: 1.25rem;
        `;
        notification.innerHTML = `üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!<br>${achievementName}`;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.remove();
        }, 3000);
    }

    checkRatingAchievements() {
        const ratings = JSON.parse(localStorage.getItem('taskRatings')) || {};
        const cssTasks = Object.keys(ratings).filter(taskId => 
            document.querySelector(`[data-task="${taskId}"] .subject`)?.textContent === 'CSS'
        );
        
        const hasFiveStarCss = cssTasks.some(taskId => ratings[taskId].rating === 5);
        if (hasFiveStarCss) {
            this.unlockAchievement('cssMaster');
        }
    }
}

// –°–∏—Å—Ç–µ–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
class CommunityCodes {
    constructor() {
        this.codes = JSON.parse(localStorage.getItem('communityCodes')) || [];
    }

    init() {
        this.setupForm();
        this.loadCommunityCodes();
        this.setupFilters();
    }

    setupForm() {
        const form = document.getElementById('addCodeForm');
        const previewBtn = document.getElementById('previewBtn');
        const languageSelect = document.getElementById('programmingLanguage');
        const codeContent = document.getElementById('codeContent');

        if (form) {
            form.addEventListener('submit', (e) => this.handleSubmit(e));
        }

        if (previewBtn) {
            previewBtn.addEventListener('click', () => this.showPreview());
        }

        if (languageSelect && codeContent) {
            languageSelect.addEventListener('change', () => {
                this.updateFileName(languageSelect.value);
            });
        }

        const copyBtn = document.querySelector('.copy-editor-btn');
        if (copyBtn) {
            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(codeContent.value).then(() => {
                    copyBtn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    setTimeout(() => {
                        copyBtn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                    }, 2000);
                });
            });
        }
    }

    updateFileName(language) {
        const fileName = document.getElementById('fileName');
        const extensions = {
            'html': 'index.html',
            'css': 'style.css',
            'javascript': 'script.js',
            'python': 'program.py',
            'other': 'code.txt'
        };
        fileName.textContent = extensions[language] || 'code.txt';
    }

    handleSubmit(e) {
        e.preventDefault();
        
        const formData = new FormData(e.target);
        const codeData = {
            id: Date.now().toString(),
            title: formData.get('codeTitle'),
            description: formData.get('codeDescription'),
            language: formData.get('programmingLanguage'),
            code: formData.get('codeContent'),
            author: formData.get('authorName'),
            difficulty: formData.get('difficulty'),
            date: new Date().toISOString(),
            likes: 0
        };

        this.codes.unshift(codeData);
        localStorage.setItem('communityCodes', JSON.stringify(this.codes));
        
        this.showSuccessModal();
        e.target.reset();
        this.loadCommunityCodes();
        
        achievementsSystem.unlockAchievement('firstCode');
        if (this.codes.length >= 3) {
            achievementsSystem.unlockAchievement('communityHelper');
        }
    }

    showSuccessModal() {
        const modal = document.getElementById('successModal');
        const goToCommunityBtn = document.getElementById('goToCommunityBtn');
        const addAnotherBtn = document.getElementById('addAnotherBtn');

        modal.style.display = 'block';

        goToCommunityBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            window.location.href = 'community.html';
        });

        addAnotherBtn.addEventListener('click', () => {
            modal.style.display = 'none';
            document.getElementById('addCodeForm').reset();
        });

        window.addEventListener('click', (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
    }

    loadCommunityCodes() {
        const container = document.getElementById('communityCodesList');
        const emptyState = document.getElementById('communityEmpty');
        
        if (!container) return;

        if (this.codes.length === 0) {
            container.innerHTML = '';
            if (emptyState) emptyState.style.display = 'block';
            return;
        }

        if (emptyState) emptyState.style.display = 'none';

        container.innerHTML = this.codes.map(code => `
            <div class="community-code-card">
                <div class="community-code-header">
                    <h3 class="community-code-title">${code.title}</h3>
                    <span class="difficulty-badge ${code.difficulty}">
                        ${code.difficulty === 'easy' ? 'üë∂' : code.difficulty === 'medium' ? 'üëç' : 'üî•'} 
                        ${code.difficulty === 'easy' ? '–õ–µ–≥–∫–æ' : code.difficulty === 'medium' ? '–°—Ä–µ–¥–Ω–µ' : '–°–ª–æ–∂–Ω–æ'}
                    </span>
                </div>
                <div class="community-code-meta">
                    <span class="subject">${code.language.toUpperCase()}</span>
                    <span class="community-code-author">üë§ ${code.author}</span>
                    <span class="community-code-date">üìÖ ${new Date(code.date).toLocaleDateString()}</span>
                </div>
                <p class="community-code-description">${code.description}</p>
                <div class="community-code-content">
                    <pre><code>${this.escapeHtml(code.code)}</code></pre>
                </div>
                <div class="community-code-actions">
                    <button class="btn btn-outline like-btn" data-id="${code.id}">
                        <span>‚ù§Ô∏è</span> –ù—Ä–∞–≤–∏—Ç—Å—è (${code.likes})
                    </button>
                    <button class="btn btn-outline copy-community-btn" data-code="${this.escapeHtml(code.code)}">
                        <span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>
        `).join('');

        this.setupCommunityButtons();
    }

    setupCommunityButtons() {
        document.querySelectorAll('.like-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const codeId = btn.getAttribute('data-id');
                this.likeCode(codeId);
            });
        });

        document.querySelectorAll('.copy-community-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const code = btn.getAttribute('data-code');
                navigator.clipboard.writeText(code).then(() => {
                    btn.innerHTML = '<span>‚úÖ</span> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                    setTimeout(() => {
                        btn.innerHTML = '<span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                    }, 2000);
                });
            });
        });
    }

    likeCode(codeId) {
        const code = this.codes.find(c => c.id === codeId);
        if (code) {
            code.likes++;
            localStorage.setItem('communityCodes', JSON.stringify(this.codes));
            this.loadCommunityCodes();
        }
    }

    setupFilters() {
        const sortSelect = document.getElementById('sortCodes');
        const filterSelect = document.getElementById('filterLanguage');

        if (sortSelect) {
            sortSelect.addEventListener('change', () => this.applyFilters());
        }

        if (filterSelect) {
            filterSelect.addEventListener('change', () => this.applyFilters());
        }
    }

    applyFilters() {
        const sortBy = document.getElementById('sortCodes').value;
        const filterBy = document.getElementById('filterLanguage').value;

        let filteredCodes = [...this.codes];

        if (filterBy !== 'all') {
            filteredCodes = filteredCodes.filter(code => code.language === filterBy);
        }

        switch (sortBy) {
            case 'newest':
                filteredCodes.sort((a, b) => new Date(b.date) - new Date(a.date));
                break;
            case 'oldest':
                filteredCodes.sort((a, b) => new Date(a.date) - new Date(b.date));
                break;
            case 'popular':
                filteredCodes.sort((a, b) => b.likes - a.likes);
                break;
        }

        const tempCodes = this.codes;
        this.codes = filteredCodes;
        this.loadCommunityCodes();
        this.codes = tempCodes;
    }

    escapeHtml(unsafe) {
        return unsafe
            .replace(/&/g, "&amp;")
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&#039;");
    }

    showPreview() {
        const formData = new FormData(document.getElementById('addCodeForm'));
        const modal = document.getElementById('previewModal');
        const content = document.getElementById('previewContent');

        const previewHTML = `
            <div class="modal-solution">
                <h2>${formData.get('codeTitle') || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'}</h2>
                <div class="community-code-meta">
                    <span class="subject">${(formData.get('programmingLanguage') || 'other').toUpperCase()}</span>
                    <span class="difficulty-badge ${formData.get('difficulty') || 'medium'}">
                        ${formData.get('difficulty') === 'easy' ? 'üë∂ –õ–µ–≥–∫–æ' : 
                          formData.get('difficulty') === 'hard' ? 'üî• –°–ª–æ–∂–Ω–æ' : 'üëç –°—Ä–µ–¥–Ω–µ'}
                    </span>
                </div>
                <p><strong>–ê–≤—Ç–æ—Ä:</strong> ${formData.get('authorName') || '–ê–Ω–æ–Ω–∏–º'}</p>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${formData.get('codeDescription') || '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'}</p>
                <div class="code-preview">
                    <pre><code>${this.escapeHtml(formData.get('codeContent') || '// –ö–æ–¥ –Ω–µ –≤–≤–µ–¥–µ–Ω')}</code></pre>
                </div>
            </div>
        `;

        content.innerHTML = previewHTML;
        modal.style.display = 'block';
    }
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function initModal() {
    const modal = document.getElementById('solutionModal');
    const closeBtn = document.querySelector('.close-modal');
    const modalBody = document.getElementById('modalBody');
    const viewSolutionBtns = document.querySelectorAll('.view-solution-btn');

    function openModal(taskId) {
        const explanation = taskExplanations[taskId];
        if (explanation) {
            modalBody.innerHTML = `
                <div class="modal-solution">
                    ${explanation.content}
                </div>
            `;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
    }

    function closeModal() {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
    }

    viewSolutionBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const taskId = this.getAttribute('data-task');
            openModal(taskId);
        });
    });

    closeBtn.addEventListener('click', closeModal);

    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            closeModal();
        }
    });

    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && modal.style.display === 'block') {
            closeModal();
        }
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
function initCopyButtons() {
    const copyButtons = document.querySelectorAll('.copy-btn');
    
    copyButtons.forEach(button => {
        button.addEventListener('click', function() {
            const codeId = this.getAttribute('data-code');
            const codeElement = document.getElementById(codeId);
            const codeText = codeElement.textContent;
            
            navigator.clipboard.writeText(codeText).then(() => {
                const originalText = this.textContent;
                this.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                this.style.background = '#10b981';
                
                setTimeout(() => {
                    this.textContent = originalText;
                    this.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
                alert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥');
            });
        });
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
function initTaskSaving() {
    const saveButtons = document.querySelectorAll('.save-btn');
    saveButtons.forEach(button => {
        button.addEventListener('click', function() {
            const taskId = this.getAttribute('data-task');
            const taskCard = this.closest('.task-card');
            const taskTitle = taskCard.querySelector('h3').textContent;
            const taskDescription = taskCard.querySelector('p').textContent;
            
            const task = {
                id: taskId,
                title: taskTitle,
                description: taskDescription,
                type: 'task'
            };
            
            let savedTasks = JSON.parse(localStorage.getItem('savedTasks')) || [];
            
            if (!savedTasks.some(t => t.id === taskId)) {
                savedTasks.push(task);
                localStorage.setItem('savedTasks', JSON.stringify(savedTasks));
                alert('–ó–∞–¥–∞—á–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!');
                this.innerHTML = '<span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
                this.classList.add('saved');
            } else {
                alert('–≠—Ç–∞ –∑–∞–¥–∞—á–∞ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!');
            }
        });
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    const cards = document.querySelectorAll('.task-card, .resource-card');
    cards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞
function initExamplesPage() {
    const saveCodeButtons = document.querySelectorAll('.save-code-btn');
    saveCodeButtons.forEach(button => {
        button.addEventListener('click', function() {
            const exampleId = this.getAttribute('data-example');
            const exampleCard = this.closest('.example-card');
            const exampleTitle = exampleCard.querySelector('h3').textContent;
            const exampleDescription = exampleCard.querySelector('p').textContent;
            
            const example = {
                id: exampleId,
                title: exampleTitle,
                description: exampleDescription,
                type: 'example'
            };
            
            let savedExamples = JSON.parse(localStorage.getItem('savedExamples')) || [];
            
            if (!savedExamples.some(ex => ex.id === exampleId)) {
                savedExamples.push(example);
                localStorage.setItem('savedExamples', JSON.stringify(savedExamples));
                alert('–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!');
                this.innerHTML = '<span>üíæ</span> –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
                this.classList.add('saved');
            } else {
                alert('–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
            }
        });
    });
    
    const modalDemo = document.getElementById('myModalDemo');
    const openModalBtn = document.getElementById('openModalDemo');
    const closeModalBtn = document.querySelector('.close-demo');
    
    if (openModalBtn && modalDemo && closeModalBtn) {
        openModalBtn.addEventListener('click', function() {
            modalDemo.style.display = 'block';
        });
        
        closeModalBtn.addEventListener('click', function() {
            modalDemo.style.display = 'none';
        });
        
        window.addEventListener('click', function(event) {
            if (event.target == modalDemo) {
                modalDemo.style.display = 'none';
            }
        });
    }
    
    initCopyButtons();
    initScrollAnimations();
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
function initSavedPage() {
    const tabBtns = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    
    tabBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const tabId = this.getAttribute('data-tab');
            
            tabBtns.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            
            this.classList.add('active');
            document.getElementById(`${tabId}-tab`).classList.add('active');
            
            loadSavedContent(tabId);
        });
    });
    
    function loadSavedContent(type) {
        const savedTasksList = document.getElementById('saved-tasks-list');
        const savedExamplesList = document.getElementById('saved-examples-list');
        const tasksEmpty = document.getElementById('tasks-empty');
        const examplesEmpty = document.getElementById('examples-empty');
        
        if (type === 'tasks') {
            const savedTasks = getSavedItems('savedTasks');
            displaySavedItems(savedTasks, savedTasksList, 'task');
            
            if (savedTasks.length === 0) {
                tasksEmpty.style.display = 'block';
            } else {
                tasksEmpty.style.display = 'none';
            }
        } else if (type === 'examples') {
            const savedExamples = getSavedItems('savedExamples');
            displaySavedItems(savedExamples, savedExamplesList, 'example');
            
            if (savedExamples.length === 0) {
                examplesEmpty.style.display = 'block';
            } else {
                examplesEmpty.style.display = 'none';
            }
        }
    }
    
    function displaySavedItems(items, container, type) {
        container.innerHTML = '';
        
        items.forEach(item => {
            const itemElement = document.createElement('div');
            itemElement.className = 'saved-item';
            itemElement.innerHTML = `
                <h4>${item.title}</h4>
                <p>${item.description}</p>
                <button class="remove-btn" data-id="${item.id}" data-type="${type}">√ó</button>
            `;
            container.appendChild(itemElement);
        });
        
        const removeButtons = container.querySelectorAll('.remove-btn');
        removeButtons.forEach(button => {
            button.addEventListener('click', function() {
                const id = this.getAttribute('data-id');
                const type = this.getAttribute('data-type');
                const storageKey = type === 'task' ? 'savedTasks' : 'savedExamples';
                
                if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö?')) {
                    removeFromLocalStorage(storageKey, id);
                    loadSavedContent(type + 's');
                }
            });
        });
    }
    
    loadSavedContent('tasks');
    initScrollAnimations();
}

// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
function initCommunityPage() {
    loadCommunityFeed();
    setupCommunityFilters();
    updateCommunityStats();
}

function loadCommunityFeed() {
    const feed = document.getElementById('communityFeed');
    const emptyState = document.getElementById('communityEmpty');
    const codes = JSON.parse(localStorage.getItem('communityCodes')) || [];
    
    if (codes.length === 0) {
        if (emptyState) emptyState.style.display = 'block';
        if (feed) feed.innerHTML = '';
        return;
    }
    
    if (emptyState) emptyState.style.display = 'none';
    
    feed.innerHTML = codes.map(code => `
        <div class="community-code-item">
            <div class="community-code-header">
                <h3 class="community-code-title">${code.title}</h3>
                <span class="difficulty-badge ${code.difficulty}">
                    ${code.difficulty === 'easy' ? 'üë∂' : code.difficulty === 'medium' ? 'üëç' : 'üî•'} 
                    ${code.difficulty === 'easy' ? '–õ–µ–≥–∫–æ' : code.difficulty === 'medium' ? '–°—Ä–µ–¥–Ω–µ' : '–°–ª–æ–∂–Ω–æ'}
                </span>
            </div>
            
            <div class="community-code-meta">
                <span class="subject">${code.language.toUpperCase()}</span>
                <span class="community-code-author">
                    üë§ ${code.author}
                </span>
                <span class="community-code-date">
                    üìÖ ${new Date(code.date).toLocaleDateString()}
                </span>
            </div>
            
            <p class="community-code-description">${code.description}</p>
            
            <div class="community-code-stats">
                <div class="community-code-stat">
                    <span>‚ù§Ô∏è</span> ${code.likes} –ª–∞–π–∫–æ–≤
                </div>
                <div class="community-code-stat">
                    <span>üëÅÔ∏è</span> ${Math.floor(Math.random() * 100)} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
                </div>
            </div>
            
            <div class="code-preview">
                <pre><code>${escapeHtml(code.code.substring(0, 300))}${code.code.length > 300 ? '...' : ''}</code></pre>
            </div>
            
            <div class="community-code-actions">
                <button class="btn btn-primary like-community-btn" data-id="${code.id}">
                    <span>‚ù§Ô∏è</span> –ù—Ä–∞–≤–∏—Ç—Å—è (${code.likes})
                </button>
                <button class="btn btn-outline view-full-btn" data-id="${code.id}">
                    <span>üëÅÔ∏è</span> –°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
                </button>
                <button class="btn btn-outline copy-community-btn" data-code="${escapeHtml(code.code)}">
                    <span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                </button>
            </div>
        </div>
    `).join('');
    
    setupCommunityButtons();
}

function setupCommunityFilters() {
    const sortSelect = document.getElementById('communitySort');
    const languageSelect = document.getElementById('communityLanguage');
    const difficultySelect = document.getElementById('communityDifficulty');
    
    [sortSelect, languageSelect, difficultySelect].forEach(select => {
        if (select) {
            select.addEventListener('change', applyCommunityFilters);
        }
    });
}

function applyCommunityFilters() {
    const sortBy = document.getElementById('communitySort').value;
    const filterLanguage = document.getElementById('communityLanguage').value;
    const filterDifficulty = document.getElementById('communityDifficulty').value;
    
    let codes = JSON.parse(localStorage.getItem('communityCodes')) || [];
    
    if (filterLanguage !== 'all') {
        codes = codes.filter(code => code.language === filterLanguage);
    }
    
    if (filterDifficulty !== 'all') {
        codes = codes.filter(code => code.difficulty === filterDifficulty);
    }
    
    switch (sortBy) {
        case 'newest':
            codes.sort((a, b) => new Date(b.date) - new Date(a.date));
            break;
        case 'popular':
            codes.sort((a, b) => b.likes - a.likes);
            break;
        case 'difficulty':
            const difficultyOrder = { 'hard': 3, 'medium': 2, 'easy': 1 };
            codes.sort((a, b) => difficultyOrder[b.difficulty] - difficultyOrder[a.difficulty]);
            break;
    }
    
    const temp = JSON.parse(localStorage.getItem('communityCodes')) || [];
    localStorage.setItem('communityCodes_temp', JSON.stringify(codes));
    loadCommunityFeed();
    localStorage.setItem('communityCodes', JSON.stringify(temp));
}

function setupCommunityButtons() {
    document.querySelectorAll('.like-community-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const codeId = this.getAttribute('data-id');
            likeCommunityCode(codeId);
        });
    });
    
    document.querySelectorAll('.copy-community-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const code = this.getAttribute('data-code');
            navigator.clipboard.writeText(code).then(() => {
                this.innerHTML = '<span>‚úÖ</span> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                setTimeout(() => {
                    this.innerHTML = '<span>üìã</span> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
                }, 2000);
            });
        });
    });
}

function likeCommunityCode(codeId) {
    let codes = JSON.parse(localStorage.getItem('communityCodes')) || [];
    const code = codes.find(c => c.id === codeId);
    
    if (code) {
        code.likes++;
        localStorage.setItem('communityCodes', JSON.stringify(codes));
        loadCommunityFeed();
        updateCommunityStats();
    }
}

function updateCommunityStats() {
    const codes = JSON.parse(localStorage.getItem('communityCodes')) || [];
    const authors = new Set(codes.map(code => code.author));
    const totalLikes = codes.reduce((sum, code) => sum + code.likes, 0);
    
    document.getElementById('totalCodes').textContent = codes.length;
    document.getElementById('totalAuthors').textContent = authors.size;
    document.getElementById('totalLikes').textContent = totalLikes;
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function saveToLocalStorage(key, item) {
    let savedItems = JSON.parse(localStorage.getItem(key)) || [];
    
    if (!savedItems.some(savedItem => savedItem.id === item.id)) {
        savedItems.push(item);
        localStorage.setItem(key, JSON.stringify(savedItems));
        return true;
    }
    return false;
}

function removeFromLocalStorage(key, id) {
    let savedItems = JSON.parse(localStorage.getItem(key)) || [];
    savedItems = savedItems.filter(item => item.id !== id);
    localStorage.setItem(key, JSON.stringify(savedItems));
}

function getSavedItems(key) {
    return JSON.parse(localStorage.getItem(key)) || [];
}

function escapeHtml(unsafe) {
    return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ –∫ –∑–∞–¥–∞—á–∞–º
function addRatingToTasks() {
    const taskCards = document.querySelectorAll('.task-card');
    
    taskCards.forEach(card => {
        const taskId = card.querySelector('.save-btn').getAttribute('data-task');
        const ratingHTML = `
            <div class="rating-system">
                <button class="rating-star" data-rating="1">‚≠ê</button>
                <button class="rating-star" data-rating="2">‚≠ê</button>
                <button class="rating-star" data-rating="3">‚≠ê</button>
                <button class="rating-star" data-rating="4">‚≠ê</button>
                <button class="rating-star" data-rating="5">‚≠ê</button>
                <span class="rating-value">–û—Ü–µ–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É</span>
            </div>
        `;
        
        const taskMeta = card.querySelector('.task-meta');
        if (taskMeta) {
            taskMeta.insertAdjacentHTML('afterend', ratingHTML);
        }
    });
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
function initRatingSystem() {
    const ratingSystems = document.querySelectorAll('.rating-system');
    
    ratingSystems.forEach(system => {
        const stars = system.querySelectorAll('.rating-star');
        const taskCard = system.closest('.task-card');
        const taskId = taskCard.querySelector('.save-btn').getAttribute('data-task');
        
        const savedRatings = JSON.parse(localStorage.getItem('taskRatings')) || {};
        const savedRating = savedRatings[taskId];
        
        if (savedRating) {
            stars.forEach((star, index) => {
                if (index < savedRating.rating) {
                    star.classList.add('active');
                }
            });
        }
        
        stars.forEach((star, index) => {
            star.addEventListener('click', () => {
                const rating = index + 1;
                
                stars.forEach((s, i) => {
                    if (i <= index) {
                        s.classList.add('active');
                    } else {
                        s.classList.remove('active');
                    }
                });
                
                const ratings = JSON.parse(localStorage.getItem('taskRatings')) || {};
                ratings[taskId] = { rating: rating, count: 1 };
                localStorage.setItem('taskRatings', JSON.stringify(ratings));
                
                achievementsSystem.checkRatingAchievements();
            });
        });
    });
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è index.html
function initIndexPage() {
    initSearch();
    initTaskSaving();
    initCopyButtons();
    initModal();
    initScrollAnimations();
    initRatingSystem();
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
document.addEventListener('DOMContentLoaded', function() {
    const path = window.location.pathname;
    const page = path.split('/').pop();

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—â–∏—Ö —Å–∏—Å—Ç–µ–º
    const smartChatBot = new SmartChatBot();
    const themeSwitcher = new ThemeSwitcher();
    const ratingSystem = new RatingSystem();
    const achievementsSystem = new AchievementsSystem();
    const communityCodes = new CommunityCodes();

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
    if (page === 'index.html' || page === '' || page === '/') {
        initIndexPage();
        ratingSystem.init();
    } else if (page === '2str.html') {
        initExamplesPage();
    } else if (page === '3str.html') {
        initSavedPage();
    } else if (page === '4str.html') {
        communityCodes.init();
    } else if (page === 'community.html') {
        initCommunityPage();
    }

    achievementsSystem.init();
    initScrollAnimations();
});


// –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
function initMobileOptimizations() {
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –Ω–∞ –∏–Ω–ø—É—Ç—ã
    const inputs = document.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
        input.addEventListener('focus', () => {
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –ª—É—á—à–µ–≥–æ UX
            setTimeout(() => {
                window.scrollTo(0, 0);
            }, 100);
        });
    });
    
    // –£–ª—É—á—à–∞–µ–º —Ä–∞–±–æ—Ç—É —Ç–∞—á-—Å–æ–±—ã—Ç–∏–π
    document.addEventListener('touchstart', function() {}, {passive: true});
    
    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º bounce-—ç—Ñ—Ñ–µ–∫—Ç –Ω–∞ iOS
    document.body.addEventListener('touchmove', function(e) {
        e.preventDefault();
    }, { passive: false });
    
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    if (navigator.connection) {
        const connection = navigator.connection;
        if (connection.saveData || connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
            // –£–ø—Ä–æ—â–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
            document.documentElement.style.setProperty('--animation-duration', '0.1s');
        }
    }
}

// –î–æ–±–∞–≤—å –≤—ã–∑–æ–≤ –≤ –≥–ª–∞–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
document.addEventListener('DOMContentLoaded', function() {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    
    initMobileOptimizations();
});